{
  "model": "gpt-4",
  "messages": [
    {
      "role": "system",
      "content": "Eres un generador de código Java experto en Spring Boot. Solo devuelve clases y tests JUnit válidos. Cada bloque debe comenzar con \"package\". No incluyas texto adicional."
    },
    {
      "role": "user",
      "content": "--- HISTORIA DE USUARIO ---\nid: HDU-EMP-003\ntitulo: Prevenir eliminación de empleadas\nactor: Administrador del sistema\ndescripcion: >\n  Como administrador del sistema,\n  quiero que no se permita eliminar empleados de género femenino,\n  para cumplir con la normativa interna de no eliminar registros históricos sensibles.\n\ncriterios_aceptacion:\n  - Si se intenta eliminar un empleado con género \"Femenino\", se debe lanzar una excepción o retornar un error controlado.\n  - Si el empleado es de género \"Masculino\" u otro valor, se permite la eliminación normal.\n  - El método de eliminación actual debe ser modificado para incluir esta validación.\n  - No debe eliminarse ninguna lógica existente que ya esté implementada en ese método.\n  - Se deben mantener todos los métodos actuales sin eliminación ni reemplazo.\n  - La modificación debe estar delimitada por comentarios que indiquen claramente el inicio y fin del cambio realizado por la IA.\n\n\n--- DIAGNÓSTICO Y PLAN DE CLASES ---\nAnálisis de Clases Existentes:\n\n1. Clase Empleado: Esta clase probablemente contiene los detalles del empleado, incluyendo el género. Es posible que necesitemos agregar un método para obtener el género del empleado.\n\n2. Clase AdministradorDelSistema: Esta clase probablemente contiene el método para eliminar empleados. Necesitaremos modificar este método para incluir la validación de género.\n\nPlan de Modificación:\n\n1. Clase Empleado: \n   - No se requieren cambios en esta clase si ya existe un método para obtener el género del empleado. Si no existe tal método, necesitaremos agregarlo.\n\n2. Clase AdministradorDelSistema:\n   - En el método de eliminación de empleados, antes de eliminar el empleado, obtendremos el género del empleado.\n   - Si el género es \"Femenino\", lanzaremos una excepción o retornaremos un error controlado.\n   - Si el género es \"Masculino\" u otro valor, permitiremos la eliminación normal.\n   - Esta modificación estará delimitada por comentarios que indiquen claramente el inicio y fin del cambio realizado.\n\nNota: Este plan de modificación asume que ya existe un método para eliminar empleados y un método para obtener el género del empleado. Si estos métodos no existen, necesitarán ser implementados.\n\n--- INSTRUCCIONES DE GENERACIÓN DE CÓDIGO ---\n- Modifica únicamente las clases marcadas como MODIFICABLE.\n- Crea nuevas clases solo si están indicadas como NUEVA.\n- No cambies de paquete ni nombre de clase.\n- Si modificas un método, inclúyelo completo con su lógica anterior más la nueva.\n- No omitas lógica existente.\n- Cada clase debe comenzar con `package ...`.\n- Devuelve únicamente clases y tests JUnit 5 válidos.\n- No incluyas explicaciones ni comentarios adicionales."
    }
  ],
  "temperature": 0.3
}
